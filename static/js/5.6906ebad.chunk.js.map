{"version":3,"sources":["Components/Chat/Chat.module.css","Components/Chat/AddMsgForm/AddMsgForm.tsx","Components/Chat/Chat.tsx","hoc/withAuthRedirect.tsx","Components/Chat/ChatContainer.tsx"],"names":["module","exports","maxLength50","maxLengthCreator","reduxForm","form","props","className","styles","_containerGrid","onSubmit","handleSubmit","msgInputBox","createField","required","Textarea","btnSendMsgBox","btnSendMsg","Chat","message","messagesPage","messagesData","map","el","sender","isSelf","msgCont","_selfMsgCell","msgAva","_selfAvaCell","_userMsgCell","_userAvaCell","_avaImg","src","userpic","_container","_header","values","sendMessage","newMessageBody","mapStateToPropsForRedirect","state","isAuth","auth","compose","connect","actions","WrappedComponent","restProps","to"],"mappings":"iHACAA,EAAOC,QAAU,CAAC,WAAa,yBAAyB,QAAU,sBAAsB,eAAiB,6BAA6B,aAAe,2BAA2B,aAAe,2BAA2B,QAAU,sBAAsB,aAAe,2BAA2B,aAAe,6B,wICM7SC,EAAcC,YAAiB,IAmBtBC,cAAgC,CAACC,KAAM,kBAAvCD,EAdqF,SAACE,GAEjG,OACI,0BAAMC,UAAWC,IAAOC,eAAgBC,SAAUJ,EAAMK,cACpD,yBAAKJ,UAAWC,IAAOI,aAClBC,YAAsC,qBAAsB,iBAAkB,CAACC,IAAUZ,GAAca,MAE5G,yBAAKR,UAAWC,IAAOQ,eACnB,4BAAQT,UAAWC,IAAOS,YAA1B,aC8BDC,EAnCmB,SAACZ,GAC/B,IAEIa,EAFQb,EAAMc,aAEEC,aAAaC,KAAK,SAACC,GAEnC,IAAIC,EAASD,EAAGE,OAAU,CAACC,QAASlB,IAAOmB,aAAcC,OAAQpB,IAAOqB,cAClE,CAACH,QAASlB,IAAOsB,aAAcF,OAAQpB,IAAOuB,cAEpD,OACI,yBAAKxB,UAAWC,IAAOC,gBACnB,yBAAKF,UAAWiB,EAAOI,QACnB,yBAAKrB,UAAWC,IAAOwB,QAASC,IAAKC,OAEzC,yBAAK3B,UAAWiB,EAAOE,SACnB,8BAAOH,EAAGJ,cAU1B,OACI,yBAAKZ,UAAU,cACX,yBAAKA,UAAWC,IAAO2B,YACnB,wBAAI5B,UAAWC,IAAO4B,SAAtB,sBACCjB,EACD,kBAAC,EAAD,CAAiBT,SATT,SAAC2B,GACjB/B,EAAMgC,YAAYD,EAAOE,sB,wBC/B7BC,EAA6B,SAACC,GAAD,MAA0B,CACvDC,OAAQD,EAAME,KAAKD,S,WCSRE,sBACXC,aARkB,SAACJ,GACnB,MAAO,CACHrB,aAAcqB,EAAMrB,gBAMjB,eAAsB0B,ODA1B,SAAgCC,GAWnC,OAFqCF,YAA4DL,EAA4B,GAAxFK,EAPiC,SAACvC,GAAW,IACzEoC,EAAwBpC,EAAxBoC,OAAWM,EAD6D,YAChD1C,EADgD,YAE7E,OAAKoC,EAEE,kBAACK,EAAqBC,GAFT,kBAAC,IAAD,CAAUC,GAAG,iBCL1BL,CAGZ1B","file":"static/js/5.6906ebad.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"_container\":\"Chat__container__3Xq8X\",\"_header\":\"Chat__header__36wSf\",\"_containerGrid\":\"Chat__containerGrid__3ki7z\",\"_selfAvaCell\":\"Chat__selfAvaCell__Q1z5H\",\"_userAvaCell\":\"Chat__userAvaCell__2xmYF\",\"_avaImg\":\"Chat__avaImg__o5oUl\",\"_userMsgCell\":\"Chat__userMsgCell__1fTbC\",\"_selfMsgCell\":\"Chat__selfMsgCell__2xBb0\"};","import React from 'react';\r\nimport {InjectedFormProps, reduxForm} from 'redux-form';\r\nimport {createField, Textarea} from \"../../common/FormsControls/FormsControls\";\r\nimport {required, maxLengthCreator} from \"../../../utils/validators/validators\";\r\nimport styles from \"../Chat.module.css\";\r\nimport {NewMsgFormValuesType} from '../Chat';\r\n\r\nconst maxLength50 = maxLengthCreator(50);\r\n\r\ntype NewMsgFormValuesKeysType = Extract<keyof NewMsgFormValuesType, string>\r\ntype PropsType = {}\r\n\r\nexport const AddMsgForm: React.FC<InjectedFormProps<NewMsgFormValuesType, PropsType> & PropsType> = (props) => {\r\n\r\n    return (\r\n        <form className={styles._containerGrid} onSubmit={props.handleSubmit}>\r\n            <div className={styles.msgInputBox}>\r\n                {createField<NewMsgFormValuesKeysType>('Enter your message', 'newMessageBody', [required, maxLength50], Textarea)}\r\n            </div>\r\n            <div className={styles.btnSendMsgBox}>\r\n                <button className={styles.btnSendMsg}>Send</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default reduxForm<NewMsgFormValuesType>({form: 'ChatAddMsgForm'}) (AddMsgForm);","import React from \"react\";\r\nimport styles from \"./Chat.module.css\";\r\nimport userpic from \"../../img/jpg/avatar.jpg\";\r\nimport AddMsgFormRedux from \"./AddMsgForm/AddMsgForm\";\r\nimport { InitialStateType } from \"../../redux/messagesReducer\";\r\n\r\ntype PropsType = {\r\n    messagesPage: InitialStateType\r\n    sendMessage: (msgText: string) => void\r\n}\r\n\r\nexport type NewMsgFormValuesType = {\r\n    newMessageBody: string\r\n}\r\n\r\nconst Chat: React.FC<PropsType> = (props) => {\r\n    let state = props.messagesPage;\r\n\r\n    let message = state.messagesData.map( (el)=> {\r\n\r\n        let sender = el.isSelf ?  {msgCont: styles._selfMsgCell, msgAva: styles._selfAvaCell}\r\n            : {msgCont: styles._userMsgCell, msgAva: styles._userAvaCell};\r\n\r\n        return (\r\n            <div className={styles._containerGrid}>\r\n                <div className={sender.msgAva}>\r\n                    <img className={styles._avaImg} src={userpic}/>\r\n                </div>\r\n                <div className={sender.msgCont}>\r\n                    <span>{el.message}</span>\r\n                </div>\r\n            </div>\r\n        );\r\n    });\r\n\r\n    let addNewMessage = (values: NewMsgFormValuesType) => {\r\n        props.sendMessage(values.newMessageBody);\r\n    };\r\n\r\n    return (\r\n        <div className=\"Chat block\">\r\n            <div className={styles._container}>\r\n                <h6 className={styles._header}>Чат</h6>\r\n                {message}\r\n                <AddMsgFormRedux onSubmit={addNewMessage}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Chat;","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from '../redux/reduxStore';\r\n\r\nlet mapStateToPropsForRedirect = (state: AppStateType) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\ntype MapPropsType = {\r\n    isAuth: boolean\r\n}\r\n\r\ntype DispatchPropsType = {\r\n}\r\n\r\nexport function withAuthRedirect<WCP> (WrappedComponent: React.ComponentType<WCP>) {\r\n\r\n    const RedirectComponent: React.FC<MapPropsType & DispatchPropsType> = (props) => {\r\n        let {isAuth, ...restProps} = props;\r\n        if (!isAuth) return <Redirect to='./login'/>\r\n\r\n        return <WrappedComponent {...restProps as WCP}/>\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect<MapPropsType, DispatchPropsType, WCP, AppStateType>(mapStateToPropsForRedirect, {}) (RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","import React from \"react\";\r\nimport {actions} from \"../../redux/messagesReducer\";\r\nimport Chat from \"./Chat\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {AppStateType} from '../../redux/reduxStore';\r\n\r\nlet mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        messagesPage: state.messagesPage,\r\n    }\r\n\r\n};\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {...actions}),\r\n    withAuthRedirect\r\n) (Chat);"],"sourceRoot":""}