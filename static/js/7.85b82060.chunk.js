(this.webpackJsonpsocial_network_react=this.webpackJsonpsocial_network_react||[]).push([[7],{536:function(e,t,n){"use strict";n.r(t);var r=n(186),a=n(0),l=n.n(a),c=n(144),o=n(533),i=n.n(o),u=n(188),m=n.n(u),s=n(523),d=n(18),f=n(252),v=function(){var e=Object(d.c)(),t=Object(d.d)((function(e){return e.chat.status}));return Object(a.useEffect)((function(){return e(Object(f.c)()),function(){e(Object(f.d)())}}),[]),l.a.createElement("div",null,"error"===t&&l.a.createElement("h3",null,"Some error occured. Please, Refresh Page"),l.a.createElement(h,null),l.a.createElement(b,null))},h=function(e){var t=Object(a.useRef)(null),n=Object(d.d)((function(e){return e.chat.messages})),c=Object(a.useState)(!1),o=Object(r.a)(c,2),i=o[0],u=o[1];return Object(a.useEffect)((function(){var e;i&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[n]),l.a.createElement("div",{style:{maxHeight:"50vh",margin:"1.6rem 0",overflowY:"auto"},onScroll:function(e){var t=e.currentTarget.scrollHeight-e.currentTarget.scrollTop;Math.abs(t-e.currentTarget.clientHeight)<300?!i&&u(!0):!i&&u(!1)}},n.map((function(e){return l.a.createElement(E,{key:e.id,m:e})})),l.a.createElement("div",{ref:t,style:{fontSize:0}},"\xa0"))},E=l.a.memo((function(e){var t,n=e.m;return console.log("render"),l.a.createElement("div",{style:{display:"flex",alignItems:"flex-end",width:"100%",margin:"1.6rem 0",backgroundColor:"#fff",borderRadius:"0.8rem",overflow:"hidden"}},l.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"20%",padding:"1.6rem 1.6rem 0",backgroundColor:"#87b5cc",overflow:"hidden"}},l.a.createElement("div",null,(null===(t=n.photo)||void 0===t?void 0:t.length)?l.a.createElement("img",{src:n.photo,alt:n.userName,style:{maxWidth:"4rem",height:"auto"}}):l.a.createElement(m.a,{size:"large",icon:l.a.createElement(s.a,null)})),l.a.createElement("div",{style:{overflow:"hidden"}},l.a.createElement("p",null,n.userName))),l.a.createElement("div",{style:{padding:"1.6rem 1.6rem 0",width:"80%",overflow:"hidden"}},l.a.createElement("p",null,n.message)))})),b=function(e){var t=Object(a.useState)(""),n=Object(r.a)(t,2),o=n[0],u=n[1],m=Object(d.d)((function(e){return e.chat.status})),s=Object(d.c)();return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(i.a,{rows:6,onChange:function(e){return u(e.currentTarget.value)},value:o})),l.a.createElement("div",null,l.a.createElement(c.a,{disabled:"ready"!==m,block:!0,type:"primary",onClick:function(){o&&(s(Object(f.b)(o)),u(""))}},"SEND")))};t.default=function(){return l.a.createElement("div",{style:{gridColumn:"3 / span 8"}},l.a.createElement(v,null))}}}]);
//# sourceMappingURL=7.85b82060.chunk.js.map